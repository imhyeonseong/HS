<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Leaflet ìƒíƒœ ì§€ë„ - í•„í„°ë§ í¬í•¨</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    #map { height: 600px; width: 100%; }
    #controls {
      margin: 10px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h2>ì•„ì‚°ì‹œ íƒ•ì •ë©´ ìƒíƒœ ì§€ë„ ğŸŒ¿ğŸ¾</h2>

  <div id="controls">
    <label><input type="checkbox" id="toggleAnimals" checked> ğŸ¾ ë™ë¬¼ ë³´ê¸°</label>
    <label><input type="checkbox" id="togglePlants" checked> ğŸŒ¿ ì‹ë¬¼ ë³´ê¸°</label>
  </div>

  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([36.8072, 127.0600], 15);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    // ì•„ì´ì½˜ (ì£¼í™© = ë™ë¬¼, ì´ˆë¡ = ì‹ë¬¼)
    const orangeIcon = new L.Icon({
      iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-orange.png',
      shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
      iconSize: [25, 41],
      iconAnchor: [12, 41],
      popupAnchor: [1, -34],
      shadowSize: [41, 41]
    });

    const greenIcon = new L.Icon({
      iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png',
      shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
      iconSize: [25, 41],
      iconAnchor: [12, 41],
      popupAnchor: [1, -34],
      shadowSize: [41, 41]
    });

    // ë™ë¬¼ ë°ì´í„°
    const animals = [
      { name: "ë…¸ë¦°ì¬", lat: 36.808018, lng: 127.059693 },
      { name: "ë§¤ë¯¸ ë‚˜ë°© ìœ ì¶©", lat: 36.808513, lng: 127.059919 },
      { name: "ë§¤ë¯¸ ë‚˜ë°© ìœ ì¶©ê³¼ ë¬´ë‹¹ë²Œë ˆ", lat: 36.808654, lng: 127.060021 },
      { name: "ë§¤ë¯¸", lat: 36.808407, lng: 127.059944 },
      { name: "ë¯¸êµ­í°ë¶ˆë‚˜ë°© ìœ ì¶©", lat: 36.808561, lng: 127.059991 },
      { name: "ë°°ì¶”í°ë‚˜ë¹„", lat: 36.808931, lng: 127.061267 },
      { name: "ë¹„ëŠ˜ê°ˆê±°ë¯¸", lat: 36.807219, lng: 127.060868 },
      { name: "ì‚¬ë§ˆê·€", lat: 36.807140, lng: 127.060786 },
      { name: "ìƒˆ", lat: 36.809308, lng: 127.060692 },
      { name: "ì†Œê¸ˆìŸì´", lat: 36.806966, lng: 127.059125 },
      { name: "ì‹¤ì ìë¦¬", lat: 36.807258, lng: 127.059308 },
      { name: "ì• ê±°ë¯¸/ìŠ¤íŒŒì´ë”ë§", lat: 36.807808, lng: 127.059652 },
      { name: "ì‰ì–´", lat: 36.809455, lng: 127.061020 },
      { name: "ì ìë¦¬", lat: 36.807116, lng: 127.060102 },
      { name: "ì£¼í™ë‚ ê°œê½ƒë§¤ë¯¸", lat: 36.807028, lng: 127.060761 },
      { name: "íŒŒë¦¬ë§¤", lat: 36.805721, lng: 127.059840 }
    ];

    // ì‹ë¬¼ ë°ì´í„°
    const plants = [
      { name: "ê°•ì•„ì§€í’€", lat: 36.809035, lng: 127.061291 },
      { name: "ê°œë§ì´ˆ", lat: 36.809117, lng: 127.061224 },
      { name: "ê¸ˆë§¤í™”", lat: 36.808746, lng: 127.061315 },
      { name: "ë‚œì´ˆ", lat: 36.808569, lng: 127.059981 },
      { name: "ë©”ë¦¬ê³¨ë“œ", lat: 36.806237, lng: 127.060416 },
      { name: "ë¯¸êµ­ìë¦¬ê³µ", lat: 36.807296, lng: 127.059384 },
      { name: "ë¶€ë“¤", lat: 36.806891, lng: 127.059080 },
      { name: "ì†Œë‚˜ë¬´", lat: 36.809243, lng: 127.061315 },
      { name: "ì‘¥", lat: 36.809238, lng: 127.060998 },
      { name: "ì—„ë‚˜ë¬´/ì‚°ë”¸ë‚˜ë¬´", lat: 36.807635, lng: 127.061397 },
      { name: "ì˜¤ë™ë‚˜ë¬´", lat: 36.807088, lng: 127.060618 },
      { name: "ì›ì¶”ë¦¬", lat: 36.809232, lng: 127.060992 },
      { name: "ì´ë¼", lat: 36.806647, lng: 127.060656 },
      { name: "ì² ì­‰", lat: 36.805433, lng: 127.060179 },
      { name: "ì¹¡ê½ƒ", lat: 36.807566, lng: 127.061002 },
      { name: "í°ê¸ˆê³„êµ­", lat: 36.809242, lng: 127.060402 },
      { name: "í„¸ë¶€ì²˜ê½ƒ", lat: 36.807914, lng: 127.060511 },
      { name: "í™©ë§¤í™”", lat: 36.808863, lng: 127.061249 },
      { name: "í°ë§ì±„", lat: 36.807352, lng: 127.060903 }
    ];

    // ë§ˆì»¤ ì €ì¥ ë°°ì—´
    let animalMarkers = [];
    let plantMarkers = [];

    // ë™ë¬¼ ë§ˆì»¤ ìƒì„±
    animals.forEach(a => {
      const marker = L.marker([a.lat, a.lng], { icon: orangeIcon })
        .bindPopup(`<b>${a.name}</b><br><!-- ì—¬ê¸°ì— ì„¤ëª… --><br><!-- <img src='ì´ë¯¸ì§€ê²½ë¡œ' width='100'> -->`);
      marker.addTo(map);
      animalMarkers.push(marker);
    });

    // ì‹ë¬¼ ë§ˆì»¤ ìƒì„±
    plants.forEach(p => {
      const marker = L.marker([p.lat, p.lng], { icon: greenIcon })
        .bindPopup(`<b>${p.name}</b><br><!-- ì—¬ê¸°ì— ì„¤ëª… --><br><!-- <img src='ì´ë¯¸ì§€ê²½ë¡œ' width='100'> -->`);
      marker.addTo(map);
      plantMarkers.push(marker);
    });

    // ì²´í¬ë°•ìŠ¤ ì´ë²¤íŠ¸ ì—°ê²°
    document.getElementById('toggleAnimals').addEventListener('change', function () {
      animalMarkers.forEach(marker => {
        if (this.checked) {
          marker.addTo(map);
        } else {
          map.removeLayer(marker);
        }
      });
    });

    document.getElementById('togglePlants').addEventListener('change', function () {
      plantMarkers.forEach(marker => {
        if (this.checked) {
          marker.addTo(map);
        } else {
          map.removeLayer(marker);
        }
      });
    });
  </script>
</body>
</html>
